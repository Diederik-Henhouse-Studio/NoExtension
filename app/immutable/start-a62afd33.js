var et=Object.defineProperty;var tt=(n,e,t)=>e in n?et(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var he=(n,e,t)=>(tt(n,typeof e!="symbol"?e+"":e,t),t);import{S as nt,i as ot,s as rt,d as F,v as st,a as qe,o as se,b as at,c as it,e as I,f as ct,g as z,h as Q,t as N,j as Z,k as D,l as V,m as lt,n as ft,p as ut,q as me,r as H,u as dt,w as pt,x as ht,y as mt,z as J,A as ne,B as K,C as W,D as _e}from"./chunks/index-da8c466b.js";import{g as ze,f as Je,a as Ke,s as X,b as be,i as _t}from"./chunks/singletons-3a3f354f.js";import{b as gt,_ as x}from"./chunks/preload-helper-d17d48a2.js";class re{constructor(e,t){he(this,"name","HttpError");he(this,"stack");this.status=e,this.message=t!=null?t:`Error: ${e}`}toString(){return this.message}}class We{constructor(e,t){this.status=e,this.location=t}}function wt(n,e){return n==="/"||e==="ignore"?n:e==="never"?n.endsWith("/")?n.slice(0,-1):n:e==="always"&&!n.endsWith("/")?n+"/":n}function bt(n){for(const e in n)n[e]=n[e].replace(/%23/g,"#").replace(/%3[Bb]/g,";").replace(/%2[Cc]/g,",").replace(/%2[Ff]/g,"/").replace(/%3[Ff]/g,"?").replace(/%3[Aa]/g,":").replace(/%40/g,"@").replace(/%26/g,"&").replace(/%3[Dd]/g,"=").replace(/%2[Bb]/g,"+").replace(/%24/g,"$");return n}const yt=["href","pathname","search","searchParams","toString","toJSON"];function vt(n,e){const t=new URL(n);for(const a of yt){let r=t[a];Object.defineProperty(t,a,{get(){return e(),r},enumerable:!0,configurable:!0})}return t[Symbol.for("nodejs.util.inspect.custom")]=(a,r,f)=>f(n,r),kt(t),t}function kt(n){Object.defineProperty(n,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}let Fe="";function Et(n){Fe=n.base,n.assets}function Rt(n){let e=5381,t=n.length;if(typeof n=="string")for(;t;)e=e*33^n.charCodeAt(--t);else for(;t;)e=e*33^n[--t];return(e>>>0).toString(36)}let Se=0;const ee=window.fetch;function St(){Se+=1}function Pt(){Se-=1}{let n=!1;(async()=>{n=new Error().stack.includes("check_stack_trace")})(),window.fetch=(t,a)=>{const r=t instanceof Request?t.url:t.toString(),f=new Error().stack;return(n?f.includes("load_node"):Se)&&console.warn(`Loading ${r} using \`window.fetch\`. For best results, use the \`fetch\` that is passed to your \`load\` function: https://kit.svelte.dev/docs/load#input-fetch`),ee(t,a)}}function Lt(n,e){let a=`script[sveltekit\\:data-type="data"][sveltekit\\:data-url=${JSON.stringify(typeof n=="string"?n:n.url)}]`;e&&typeof e.body=="string"&&(a+=`[sveltekit\\:data-body="${Rt(e.body)}"]`);const r=document.querySelector(a);if(r&&r.textContent){const{body:f,...u}=JSON.parse(r.textContent);return Promise.resolve(new Response(f,u))}return ee(n,e)}const jt=/^(\.\.\.)?(\w+)(?:=(\w+))?$/;function Ot(n){const e=[],t=[];let a=!0;if(/\]\[/.test(n))throw new Error(`Invalid route ${n} \u2014 parameters must be separated`);if(He("[",n)!==He("]",n))throw new Error(`Invalid route ${n} \u2014 brackets are unbalanced`);return{pattern:n===""?/^\/$/:new RegExp(`^${n.split(/(?:\/|$)/).filter($t).map((f,u,i)=>{const o=decodeURIComponent(f),l=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(o);if(l)return e.push(l[1]),t.push(l[2]),"(?:/(.*))?";const m=u===i.length-1;return o&&"/"+o.split(/\[(.+?)\]/).map((_,b)=>{if(b%2){const O=jt.exec(_);if(!O)throw new Error(`Invalid param: ${_}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,A,Y,g]=O;return e.push(Y),t.push(g),A?"(.*?)":"([^/]+?)"}return m&&_.includes(".")&&(a=!1),_.normalize().replace(/%5[Bb]/g,"[").replace(/%5[Dd]/g,"]").replace(/#/g,"%23").replace(/\?/g,"%3F").replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}).join("")}).join("")}${a?"/?":""}$`),names:e,types:t}}function $t(n){return!/^\([^)]+\)$/.test(n)}function At(n,e,t,a){const r={};for(let f=0;f<e.length;f+=1){const u=e[f],i=t[f],o=n[f+1]||"";if(i){const l=a[i];if(!l)throw new Error(`Missing "${i}" param matcher`);if(!l(o))return}r[u]=o}return r}function He(n,e){let t=0;for(let a=0;a<e.length;a+=1)e[a]===n&&(t+=1);return t}function Ut(n,e,t){return Object.entries(e).map(([a,[r,f,u]])=>{const{pattern:i,names:o,types:l}=Ot(a),m=r<0;m&&(r=~r);const _={id:a,exec:b=>{const O=i.exec(b);if(O)return At(O,o,l,t)},errors:[1,...u||[]].map(b=>n[b]),layouts:[0,...f||[]].map(b=>n[b]),leaf:n[r],uses_server_data:m};return _.errors.length=_.layouts.length=Math.max(_.errors.length,_.layouts.length),_})}function Bt(n,e){return new re(n,e)}const Ct=".svelte-kit/generated/root.svelte";function Me(n){let e,t,a;var r=n[0][0];function f(i){return{props:{data:i[1],errors:i[4]},$$inline:!0}}r&&(e=new r(f(n)));const u={c:function(){e&&J(e.$$.fragment),t=I()},l:function(o){e&&ne(e.$$.fragment,o),t=I()},m:function(o,l){e&&K(e,o,l),z(o,t,l),a=!0},p:function(o,l){const m={};if(l&2&&(m.data=o[1]),l&16&&(m.errors=o[4]),r!==(r=o[0][0])){if(e){Q();const _=e;N(_.$$.fragment,1,0,()=>{W(_,1)}),Z()}r?(e=new r(f(o)),J(e.$$.fragment),D(e.$$.fragment,1),K(e,t.parentNode,t)):e=null}else r&&e.$set(m)},i:function(o){a||(e&&D(e.$$.fragment,o),a=!0)},o:function(o){e&&N(e.$$.fragment,o),a=!1},d:function(o){o&&V(t),e&&W(e,o)}};return F("SvelteRegisterBlock",{block:u,id:Me.name,type:"else",source:"(50:0) {:else}",ctx:n}),u}function Ge(n){let e,t,a;var r=n[0][0];function f(i){return{props:{data:i[1],errors:i[4],$$slots:{default:[Ze]},$$scope:{ctx:i}},$$inline:!0}}r&&(e=new r(f(n)));const u={c:function(){e&&J(e.$$.fragment),t=I()},l:function(o){e&&ne(e.$$.fragment,o),t=I()},m:function(o,l){e&&K(e,o,l),z(o,t,l),a=!0},p:function(o,l){const m={};if(l&2&&(m.data=o[1]),l&16&&(m.errors=o[4]),l&1053&&(m.$$scope={dirty:l,ctx:o}),r!==(r=o[0][0])){if(e){Q();const _=e;N(_.$$.fragment,1,0,()=>{W(_,1)}),Z()}r?(e=new r(f(o)),J(e.$$.fragment),D(e.$$.fragment,1),K(e,t.parentNode,t)):e=null}else r&&e.$set(m)},i:function(o){a||(e&&D(e.$$.fragment,o),a=!0)},o:function(o){e&&N(e.$$.fragment,o),a=!1},d:function(o){o&&V(t),e&&W(e,o)}};return F("SvelteRegisterBlock",{block:u,id:Ge.name,type:"if",source:"(40:0) {#if components[1]}",ctx:n}),u}function Ye(n){let e,t,a;var r=n[0][1];function f(i){return{props:{data:i[2],errors:i[4]},$$inline:!0}}r&&(e=new r(f(n)));const u={c:function(){e&&J(e.$$.fragment),t=I()},l:function(o){e&&ne(e.$$.fragment,o),t=I()},m:function(o,l){e&&K(e,o,l),z(o,t,l),a=!0},p:function(o,l){const m={};if(l&4&&(m.data=o[2]),l&16&&(m.errors=o[4]),r!==(r=o[0][1])){if(e){Q();const _=e;N(_.$$.fragment,1,0,()=>{W(_,1)}),Z()}r?(e=new r(f(o)),J(e.$$.fragment),D(e.$$.fragment,1),K(e,t.parentNode,t)):e=null}else r&&e.$set(m)},i:function(o){a||(e&&D(e.$$.fragment,o),a=!0)},o:function(o){e&&N(e.$$.fragment,o),a=!1},d:function(o){o&&V(t),e&&W(e,o)}};return F("SvelteRegisterBlock",{block:u,id:Ye.name,type:"else",source:"(46:2) {:else}",ctx:n}),u}function Xe(n){let e,t,a;var r=n[0][1];function f(i){return{props:{data:i[2],errors:i[4],$$slots:{default:[Qe]},$$scope:{ctx:i}},$$inline:!0}}r&&(e=new r(f(n)));const u={c:function(){e&&J(e.$$.fragment),t=I()},l:function(o){e&&ne(e.$$.fragment,o),t=I()},m:function(o,l){e&&K(e,o,l),z(o,t,l),a=!0},p:function(o,l){const m={};if(l&4&&(m.data=o[2]),l&16&&(m.errors=o[4]),l&1033&&(m.$$scope={dirty:l,ctx:o}),r!==(r=o[0][1])){if(e){Q();const _=e;N(_.$$.fragment,1,0,()=>{W(_,1)}),Z()}r?(e=new r(f(o)),J(e.$$.fragment),D(e.$$.fragment,1),K(e,t.parentNode,t)):e=null}else r&&e.$set(m)},i:function(o){a||(e&&D(e.$$.fragment,o),a=!0)},o:function(o){e&&N(e.$$.fragment,o),a=!1},d:function(o){o&&V(t),e&&W(e,o)}};return F("SvelteRegisterBlock",{block:u,id:Xe.name,type:"if",source:"(42:2) {#if components[2]}",ctx:n}),u}function Qe(n){let e,t,a;var r=n[0][2];function f(i){return{props:{data:i[3]},$$inline:!0}}r&&(e=new r(f(n)));const u={c:function(){e&&J(e.$$.fragment),t=I()},l:function(o){e&&ne(e.$$.fragment,o),t=I()},m:function(o,l){e&&K(e,o,l),z(o,t,l),a=!0},p:function(o,l){const m={};if(l&8&&(m.data=o[3]),r!==(r=o[0][2])){if(e){Q();const _=e;N(_.$$.fragment,1,0,()=>{W(_,1)}),Z()}r?(e=new r(f(o)),J(e.$$.fragment),D(e.$$.fragment,1),K(e,t.parentNode,t)):e=null}else r&&e.$set(m)},i:function(o){a||(e&&D(e.$$.fragment,o),a=!0)},o:function(o){e&&N(e.$$.fragment,o),a=!1},d:function(o){o&&V(t),e&&W(e,o)}};return F("SvelteRegisterBlock",{block:u,id:Qe.name,type:"slot",source:"(43:3) <svelte:component this={components[1]} data={data_1} {errors}>",ctx:n}),u}function Ze(n){let e,t,a,r;const f=[Xe,Ye],u=[];function i(l,m){return l[0][2]?0:1}e=i(n),t=u[e]=f[e](n);const o={c:function(){t.c(),a=I()},l:function(m){t.l(m),a=I()},m:function(m,_){u[e].m(m,_),z(m,a,_),r=!0},p:function(m,_){let b=e;e=i(m),e===b?u[e].p(m,_):(Q(),N(u[b],1,1,()=>{u[b]=null}),Z(),t=u[e],t?t.p(m,_):(t=u[e]=f[e](m),t.c()),D(t,1),t.m(a.parentNode,a))},i:function(m){r||(D(t),r=!0)},o:function(m){N(t),r=!1},d:function(m){u[e].d(m),m&&V(a)}};return F("SvelteRegisterBlock",{block:o,id:Ze.name,type:"slot",source:"(41:1) <svelte:component this={components[0]} data={data_0} {errors}>",ctx:n}),o}function ye(n){let e,t=n[6]&&ve(n);const a={c:function(){e=lt("div"),t&&t.c(),this.h()},l:function(f){e=ft(f,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var u=ut(e);t&&t.l(u),u.forEach(V),this.h()},h:function(){me(e,"id","svelte-announcer"),me(e,"aria-live","assertive"),me(e,"aria-atomic","true"),H(e,"position","absolute"),H(e,"left","0"),H(e,"top","0"),H(e,"clip","rect(0 0 0 0)"),H(e,"clip-path","inset(50%)"),H(e,"overflow","hidden"),H(e,"white-space","nowrap"),H(e,"width","1px"),H(e,"height","1px"),dt(e,Ct,54,1,1216)},m:function(f,u){z(f,e,u),t&&t.m(e,null)},p:function(f,u){f[6]?t?t.p(f,u):(t=ve(f),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d:function(f){f&&V(e),t&&t.d()}};return F("SvelteRegisterBlock",{block:a,id:ye.name,type:"if",source:"(54:0) {#if mounted}",ctx:n}),a}function ve(n){let e;const t={c:function(){e=pt(n[7])},l:function(r){e=ht(r,n[7])},m:function(r,f){z(r,e,f)},p:function(r,f){f&128&&mt(e,r[7])},d:function(r){r&&V(e)}};return F("SvelteRegisterBlock",{block:t,id:ve.name,type:"if",source:"(56:2) {#if navigated}",ctx:n}),t}function ke(n){let e,t,a,r,f;const u=[Ge,Me],i=[];function o(_,b){return _[0][1]?0:1}e=o(n),t=i[e]=u[e](n);let l=n[5]&&ye(n);const m={c:function(){t.c(),a=it(),l&&l.c(),r=I()},l:function(b){t.l(b),a=ct(b),l&&l.l(b),r=I()},m:function(b,O){i[e].m(b,O),z(b,a,O),l&&l.m(b,O),z(b,r,O),f=!0},p:function(b,[O]){let A=e;e=o(b),e===A?i[e].p(b,O):(Q(),N(i[A],1,1,()=>{i[A]=null}),Z(),t=i[e],t?t.p(b,O):(t=i[e]=u[e](b),t.c()),D(t,1),t.m(a.parentNode,a)),b[5]?l?l.p(b,O):(l=ye(b),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},i:function(b){f||(D(t),f=!0)},o:function(b){N(t),f=!1},d:function(b){i[e].d(b),b&&V(a),l&&l.d(b),b&&V(r)}};return F("SvelteRegisterBlock",{block:m,id:ke.name,type:"component",source:"",ctx:n}),m}function It(n,e,t){let{$$slots:a={},$$scope:r}=e;st("Root",a,[]);let{stores:f}=e,{page:u}=e,{components:i}=e,{data_0:o=null}=e,{data_1:l=null}=e,{data_2:m=null}=e,{errors:_}=e;qe(f.page.notify);let b=!1,O=!1,A=null;se(()=>{const g=f.page.subscribe(()=>{b&&(t(6,O=!0),t(7,A=document.title||"untitled page"))});return t(5,b=!0),g});const Y=["stores","page","components","data_0","data_1","data_2","errors"];return Object.keys(e).forEach(g=>{!~Y.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&console.warn(`<Root> was created with unknown prop '${g}'`)}),n.$$set=g=>{"stores"in g&&t(8,f=g.stores),"page"in g&&t(9,u=g.page),"components"in g&&t(0,i=g.components),"data_0"in g&&t(1,o=g.data_0),"data_1"in g&&t(2,l=g.data_1),"data_2"in g&&t(3,m=g.data_2),"errors"in g&&t(4,_=g.errors)},n.$capture_state=()=>({setContext:at,afterUpdate:qe,onMount:se,browser:gt,stores:f,page:u,components:i,data_0:o,data_1:l,data_2:m,errors:_,mounted:b,navigated:O,title:A}),n.$inject_state=g=>{"stores"in g&&t(8,f=g.stores),"page"in g&&t(9,u=g.page),"components"in g&&t(0,i=g.components),"data_0"in g&&t(1,o=g.data_0),"data_1"in g&&t(2,l=g.data_1),"data_2"in g&&t(3,m=g.data_2),"errors"in g&&t(4,_=g.errors),"mounted"in g&&t(5,b=g.mounted),"navigated"in g&&t(6,O=g.navigated),"title"in g&&t(7,A=g.title)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&768&&f.page.set(u)},[i,o,l,m,_,b,O,A,f,u]}class Nt extends nt{constructor(e){super(e),ot(this,e,It,ke,rt,{stores:8,page:9,components:0,data_0:1,data_1:2,data_2:3,errors:4}),F("SvelteRegisterComponent",{component:this,tagName:"Root",options:e,id:ke.name});const{ctx:t}=this.$$,a=e.props||{};t[8]===void 0&&!("stores"in a)&&console.warn("<Root> was created without expected prop 'stores'"),t[9]===void 0&&!("page"in a)&&console.warn("<Root> was created without expected prop 'page'"),t[0]===void 0&&!("components"in a)&&console.warn("<Root> was created without expected prop 'components'"),t[4]===void 0&&!("errors"in a)&&console.warn("<Root> was created without expected prop 'errors'")}get stores(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set stores(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get page(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set page(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get components(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set components(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get data_0(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data_0(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get data_1(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data_1(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get data_2(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data_2(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get errors(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set errors(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Dt={},ae=[()=>x(()=>import("./chunks/0-e8f56e9d.js"),["chunks/0-e8f56e9d.js","components/pages/_layout.svelte-0ba8e821.js","assets/+layout-08918d1e.css","chunks/index-da8c466b.js"],import.meta.url),()=>x(()=>import("./chunks/1-1a42a354.js"),["chunks/1-1a42a354.js","components/error.svelte-c214d230.js","chunks/index-da8c466b.js","chunks/stores-c176feee.js","chunks/singletons-3a3f354f.js"],import.meta.url),()=>x(()=>import("./chunks/2-56fa57ab.js"),["chunks/2-56fa57ab.js","components/pages/login/_layout.svelte-3fd0f7cf.js","chunks/index-da8c466b.js"],import.meta.url),()=>x(()=>import("./chunks/3-57b0ad10.js"),["chunks/3-57b0ad10.js","components/pages/_page.svelte-1574c739.js","assets/+page-db9c0b38.css","chunks/index-da8c466b.js","chunks/singletons-3a3f354f.js","chunks/supabase-51bcc1ec.js","chunks/preload-helper-d17d48a2.js","chunks/stores-c176feee.js"],import.meta.url),()=>x(()=>import("./chunks/4-5a2deab1.js"),["chunks/4-5a2deab1.js","components/pages/login/_page.svelte-26c0e55b.js","chunks/index-da8c466b.js","chunks/preload-helper-d17d48a2.js","chunks/supabase-51bcc1ec.js"],import.meta.url)],Tt={"":[3],login:[4,[2]]},xe="sveltekit:scroll",G="sveltekit:index",ge=Ut(ae,Tt,Dt),Ee=ae[0],Re=ae[1];Ee();Re();let te={};try{te=JSON.parse(sessionStorage[xe])}catch{}function we(n){te[n]=be()}function Vt({target:n,base:e,trailing_slash:t}){var Ce;const a=[],r={id:null,promise:null},f={before_navigate:[],after_navigate:[]};let u={branch:[],error:null,session_id:0,url:null},i=!1,o=!0,l=!1,m=1,_=null,b,O=!0,A=(Ce=history.state)==null?void 0:Ce[G];A||(A=Date.now(),history.replaceState({...history.state,[G]:A},"",location.href));const Y=te[A];Y&&(history.scrollRestoration="manual",scrollTo(Y.x,Y.y));let g=!1,ie,Pe;async function Le(s,{noscroll:p=!1,replaceState:h=!1,keepfocus:c=!1,state:d={}},R){if(typeof s=="string"&&(s=new URL(s,ze(document))),O)return ue({url:s,scroll:p?be():null,keepfocus:c,redirect_chain:R,details:{state:d,replaceState:h},accepted:()=>{},blocked:()=>{}});await M(s)}async function je(s){const p=Be(s);if(!p)throw new Error("Attempted to prefetch a URL that does not belong to this app");return r.promise=Ue(p),r.id=p.id,r.promise}async function Oe(s,p,h,c){var E,j,U;const d=Be(s),R=Pe={};let w=d&&await Ue(d);if(!w&&s.origin===location.origin&&s.pathname===location.pathname&&(w=await fe({status:404,error:new Error(`Not found: ${s.pathname}`),url:s,routeId:null})),!w)return await M(s),!1;if(s=(d==null?void 0:d.url)||s,Pe!==R)return!1;if(a.length=0,w.type==="redirect")if(p.length>10||p.includes(s.pathname))w=await fe({status:500,error:new Error("Redirect loop"),url:s,routeId:null});else return O?Le(new URL(w.location,s).href,{},[...p,s.pathname]):await M(new URL(w.location,location.href)),!1;else((j=(E=w.props)==null?void 0:E.page)==null?void 0:j.status)>=400&&await X.updated.check()&&await M(s);if(l=!0,h&&h.details){const{details:k}=h,P=k.replaceState?0:1;k.state[G]=A+=P,history[k.replaceState?"replaceState":"pushState"](k.state,"",s)}if(i){u=w.state,w.props.page&&(w.props.page.url=s);{const k=console.warn;console.warn=(...P)=>{(P.length!==1||!/<(Layout|Page)(_[\w$]+)?> was created with unknown prop '(data|errors)'/.test(P[0]))&&k(...P)},b.$set(w.props),_e().then(()=>console.warn=k)}}else $e(w);if(h){const{scroll:k,keepfocus:P}=h;if(!P){const L=document.body,B=L.getAttribute("tabindex");L.tabIndex=-1,L.focus({preventScroll:!0}),setTimeout(()=>{var v;(v=getSelection())==null||v.removeAllRanges()}),B!==null?L.setAttribute("tabindex",B):L.removeAttribute("tabindex")}if(await _e(),o){const L=s.hash&&document.getElementById(s.hash.slice(1));k?scrollTo(k.x,k.y):L?L.scrollIntoView():scrollTo(0,0)}}else await _e();r.promise=null,r.id=null,o=!0,w.props.page&&(ie=w.props.page);const S=w.state.branch[w.state.branch.length-1];O=((U=S==null?void 0:S.node.shared)==null?void 0:U.router)!==!1,c&&c(),l=!1}function $e(s){u=s.state;const p=document.querySelector("style[data-sveltekit]");p&&p.remove(),ie=s.props.page;{const h=console.warn;console.warn=(...c)=>{(c.length!==1||!/<(Layout|Page)(_[\w$]+)?> was created with unknown prop '(data|errors)'/.test(c[0]))&&h(...c)},b=new Nt({target:n,props:{...s.props,stores:X},hydrate:!0}),console.warn=h}if(O){const h={from:null,to:new URL(location.href)};f.after_navigate.forEach(c=>c(h))}i=!0}async function oe({url:s,params:p,branch:h,status:c,error:d,routeId:R,validation_errors:w}){const S=h.filter(Boolean),E={type:"loaded",state:{url:s,params:p,branch:h,error:d,session_id:m},props:{components:S.map(P=>P.node.component),errors:w}};let j={},U=!1;for(let P=0;P<S.length;P+=1)j={...j,...S[P].data},(U||!u.branch.some(L=>L===S[P]))&&(E.props[`data_${P}`]=j,U=!0);if(!u.url||s.href!==u.url.href||u.error!==d||U){E.props.page={error:d,params:p,routeId:R,status:c,url:s,data:j};const P=(L,B)=>{Object.defineProperty(E.props.page,L,{get:()=>{throw new Error(`$page.${L} has been replaced by $page.url.${B}`)}})};P("origin","origin"),P("path","pathname"),P("query","searchParams")}return E}async function ce({loader:s,parent:p,url:h,params:c,routeId:d,server_data_node:R}){var j,U,k,P,L;let w=null;const S={dependencies:new Set,params:new Set,parent:!1,url:!1},E=await s();if((j=E.shared)!=null&&j.load){let B=function(...y){for(const $ of y){const{href:T}=new URL($,h);S.dependencies.add(T)}};const v={};for(const y in c)Object.defineProperty(v,y,{get(){return S.params.add(y),c[y]},enumerable:!0});const C={routeId:d,params:v,data:(U=R==null?void 0:R.data)!=null?U:null,url:vt(h,()=>{S.url=!0}),async fetch(y,$){let T;typeof y=="string"?T=y:(T=y.url,$={body:y.method==="GET"||y.method==="HEAD"?void 0:await y.blob(),cache:y.cache,credentials:y.credentials,headers:y.headers,integrity:y.integrity,keepalive:y.keepalive,method:y.method,mode:y.mode,redirect:y.redirect,referrer:y.referrer,referrerPolicy:y.referrerPolicy,signal:y.signal,...$});const q=new URL(T,h).href;return B(q),i?ee(q,$):Lt(T,$)},setHeaders:()=>{},depends:B,parent(){return S.parent=!0,p()}};Object.defineProperties(C,{props:{get(){throw new Error("@migration task: Replace `props` with `data` stuff https://github.com/sveltejs/kit/discussions/5774#discussioncomment-3292693")},enumerable:!1},session:{get(){throw new Error("session is no longer available. See https://github.com/sveltejs/kit/discussions/5883")},enumerable:!1},stuff:{get(){throw new Error("@migration task: Remove stuff https://github.com/sveltejs/kit/discussions/5774#discussioncomment-3292693")},enumerable:!1}});try{St(),w=(k=await E.shared.load.call(null,C))!=null?k:null}finally{Pt()}}return{node:E,loader:s,server:R,shared:(P=E.shared)!=null&&P.load?{type:"data",data:w,uses:S}:null,data:(L=w!=null?w:R==null?void 0:R.data)!=null?L:null}}function Ae(s,p,h){if(!h)return!1;if(h.parent&&p||s.url&&h.url)return!0;for(const c of s.params)if(h.params.has(c))return!0;for(const c of h.dependencies)if(a.some(d=>d(c)))return!0;return!1}function le(s){var p,h;return(s==null?void 0:s.type)==="data"?{type:"data",data:s.data,uses:{dependencies:new Set((p=s.uses.dependencies)!=null?p:[]),params:new Set((h=s.uses.params)!=null?h:[]),parent:!!s.uses.parent,url:!!s.uses.url}}:null}async function Ue({id:s,url:p,params:h,route:c}){if(r.id===s&&r.promise)return r.promise;const{errors:d,layouts:R,leaf:w}=c,S=u.url&&{url:s!==u.url.pathname+u.url.search,params:Object.keys(h).filter(v=>u.params[v]!==h[v])};[...d,...R,w].forEach(v=>v==null?void 0:v().catch(()=>{}));const E=[...R,w];let j=null;const U=E.reduce((v,C,y)=>{var q;const $=u.branch[y],T=C&&(($==null?void 0:$.loader)!==C||Ae(S,v.some(Boolean),(q=$.server)==null?void 0:q.uses));return v.push(T),v},[]);if(c.uses_server_data&&U.some(Boolean)){try{const v=await ee(`${p.pathname}${p.pathname.endsWith("/")?"":"/"}__data.json${p.search}`,{headers:{"x-sveltekit-invalidated":U.map(C=>C?"1":"").join(",")}});if(j=await v.json(),!v.ok)throw j}catch{M(p);return}if(j.type==="redirect")return j}const k=j==null?void 0:j.nodes;let P=!1;const L=E.map(async(v,C)=>{var de,Ie,Ne,De;if(!v)return;const y=u.branch[C],$=(de=k==null?void 0:k[C])!=null?de:null;if((!$||$.type==="skip")&&v===(y==null?void 0:y.loader)&&!Ae(S,P,(Ie=y.shared)==null?void 0:Ie.uses))return y;if(P=!0,($==null?void 0:$.type)==="error")throw $.httperror?Bt($.httperror.status,$.httperror.message):$.error;return ce({loader:v,url:p,params:h,routeId:c.id,parent:async()=>{var Ve;const Te={};for(let pe=0;pe<C;pe+=1)Object.assign(Te,(Ve=await L[pe])==null?void 0:Ve.data);return Te},server_data_node:(De=(Ne=le($))!=null?Ne:y==null?void 0:y.server)!=null?De:null})});for(const v of L)v.catch(()=>{});const B=[];for(let v=0;v<E.length;v+=1)if(E[v])try{B.push(await L[v])}catch(C){const y=C;if(y instanceof We)return{type:"redirect",location:y.location};const $=C instanceof re?C.status:500;for(;v--;)if(d[v]){let T,q=v;for(;!B[q];)q-=1;try{return T={node:await d[v](),loader:d[v],data:{},server:null,shared:null},await oe({url:p,params:h,branch:B.slice(0,q+1).concat(T),status:$,error:y,routeId:c.id})}catch{continue}}M(p);return}else B.push(void 0);return await oe({url:p,params:h,branch:B,status:200,error:null,routeId:c.id})}async function fe({status:s,error:p,url:h,routeId:c}){var j;const d={},R=await Ee();let w=null;if(R.server){const U=await ee(`${h.pathname}${h.pathname.endsWith("/")?"":"/"}__data.json${h.search}`,{headers:{"x-sveltekit-invalidated":"1"}}),k=await U.json();if(w=(j=k==null?void 0:k[0])!=null?j:null,!U.ok||(k==null?void 0:k.type)!=="data"){M(h);return}}const S=await ce({loader:Ee,url:h,params:d,routeId:c,parent:()=>Promise.resolve({}),server_data_node:le(w)}),E={node:await Re(),loader:Re,shared:null,server:null,data:null};return await oe({url:h,params:d,branch:[S,E],status:s,error:p,routeId:c})}function Be(s){if(s.origin!==location.origin||!s.pathname.startsWith(e))return;const p=decodeURI(s.pathname.slice(e.length)||"/");for(const h of ge){const c=h.exec(p);if(c){const d=new URL(s.origin+wt(s.pathname,t)+s.search+s.hash);return{id:d.pathname+d.search,route:h,params:bt(c),url:d}}}}async function ue({url:s,scroll:p,keepfocus:h,redirect_chain:c,details:d,accepted:R,blocked:w}){const S=u.url;let E=!1;const j={from:S,to:s,cancel:()=>E=!0};if(f.before_navigate.forEach(U=>U(j)),E){w();return}we(A),R(),i&&X.navigating.set({from:u.url,to:s}),await Oe(s,c,{scroll:p,keepfocus:h,details:d},()=>{const U={from:S,to:s};f.after_navigate.forEach(k=>k(U)),X.navigating.set(null)})}function M(s){return location.href=s.href,new Promise(()=>{})}return{after_navigate:s=>{se(()=>(f.after_navigate.push(s),()=>{const p=f.after_navigate.indexOf(s);f.after_navigate.splice(p,1)}))},before_navigate:s=>{se(()=>(f.before_navigate.push(s),()=>{const p=f.before_navigate.indexOf(s);f.before_navigate.splice(p,1)}))},disable_scroll_handling:()=>{if(i&&!l)throw new Error("Can only disable scroll handling during navigation");(l||!i)&&(o=!1)},goto:(s,p={})=>Le(s,p,[]),invalidate:s=>{var p,h;if(s===void 0){for(const c of u.branch)(p=c==null?void 0:c.server)==null||p.uses.dependencies.add(""),(h=c==null?void 0:c.shared)==null||h.uses.dependencies.add("");a.push(()=>!0)}else if(typeof s=="function")a.push(s);else{const{href:c}=new URL(s,location.href);a.push(d=>d===c)}return _||(_=Promise.resolve().then(async()=>{await Oe(new URL(location.href),[]),_=null})),_},prefetch:async s=>{const p=new URL(s,ze(document));await je(p)},prefetch_routes:async s=>{const h=(s?ge.filter(c=>s.some(d=>c.exec(d))):ge).map(c=>Promise.all([...c.layouts,c.leaf].map(d=>d==null?void 0:d())));await Promise.all(h)},_start_router:()=>{history.scrollRestoration="manual",addEventListener("beforeunload",c=>{let d=!1;const R={from:u.url,to:null,cancel:()=>d=!0};f.before_navigate.forEach(w=>w(R)),d?(c.preventDefault(),c.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){we(A);try{sessionStorage[xe]=JSON.stringify(te)}catch{}}});const s=c=>{const d=Je(c);d&&d.href&&d.hasAttribute("sveltekit:prefetch")&&je(Ke(d))};let p;const h=c=>{clearTimeout(p),p=setTimeout(()=>{var d;(d=c.target)==null||d.dispatchEvent(new CustomEvent("sveltekit:trigger_prefetch",{bubbles:!0}))},20)};addEventListener("touchstart",s),addEventListener("mousemove",h),addEventListener("sveltekit:trigger_prefetch",s),addEventListener("click",c=>{if(!O||c.button||c.which!==1||c.metaKey||c.ctrlKey||c.shiftKey||c.altKey||c.defaultPrevented)return;const d=Je(c);if(!d||!d.href)return;const R=d instanceof SVGAElement,w=Ke(d);if(!R&&!(w.protocol==="https:"||w.protocol==="http:"))return;const S=(d.getAttribute("rel")||"").split(/\s+/);if(d.hasAttribute("download")||S.includes("external")||d.hasAttribute("sveltekit:reload")||(R?d.target.baseVal:d.target))return;const[E,j]=w.href.split("#");if(j!==void 0&&E===location.href.split("#")[0]){g=!0,we(A),X.page.set({...ie,url:w}),X.page.notify();return}ue({url:w,scroll:d.hasAttribute("sveltekit:noscroll")?be():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:w.href===location.href},accepted:()=>c.preventDefault(),blocked:()=>c.preventDefault()})}),addEventListener("popstate",c=>{if(c.state&&O){if(c.state[G]===A)return;ue({url:new URL(location.href),scroll:te[c.state[G]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{A=c.state[G]},blocked:()=>{const d=A-c.state[G];history.go(d)}})}}),addEventListener("hashchange",()=>{g&&(g=!1,history.replaceState({...history.state,[G]:++A},"",location.href))});for(const c of document.querySelectorAll("link"))c.rel==="icon"&&(c.href=c.href);addEventListener("pageshow",c=>{c.persisted&&X.navigating.set(null)})},_hydrate:async({status:s,error:p,node_ids:h,params:c,routeId:d})=>{const R=new URL(location.href);let w;try{const S=(k,P)=>{const L=document.querySelector(`script[sveltekit\\:data-type="${k}"]`);return L!=null&&L.textContent?JSON.parse(L.textContent):P},E=S("server_data",[]),j=S("validation_errors",void 0),U=h.map(async(k,P)=>ce({loader:ae[k],url:R,params:c,routeId:d,parent:async()=>{const L={};for(let B=0;B<P;B+=1)Object.assign(L,(await U[B]).data);return L},server_data_node:le(E[P])}));w=await oe({url:R,params:c,branch:await Promise.all(U),status:s,error:p!=null&&p.__is_http_error?new re(p.status,p.message):p,validation_errors:j,routeId:d})}catch(S){const E=S;if(E instanceof We){await M(new URL(S.location,location.href));return}w=await fe({status:E instanceof re?E.status:500,error:E,url:R,routeId:d})}$e(w)}}}function Wt(n){}async function Ft({paths:n,target:e,route:t,spa:a,trailing_slash:r,hydrate:f}){const u=Vt({target:e,base:n.base,trailing_slash:r});_t({client:u}),Et(n),f&&await u._hydrate(f),t&&(a&&u.goto(location.href,{replaceState:!0}),u._start_router()),dispatchEvent(new CustomEvent("sveltekit:start"))}export{Wt as set_public_env,Ft as start};
